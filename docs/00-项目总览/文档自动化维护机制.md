# BufferCache é¡¹ç›®æ–‡æ¡£è‡ªåŠ¨åŒ–ç»´æŠ¤æœºåˆ¶

## ğŸ“‹ ç›®å½•

- [1. æ¦‚è¿°](#1-æ¦‚è¿°)
- [2. è‡ªåŠ¨åŒ–å·¥å…·é€‰æ‹©](#2-è‡ªåŠ¨åŒ–å·¥å…·é€‰æ‹©)
- [3. æ–‡æ¡£ç”Ÿæˆæµç¨‹](#3-æ–‡æ¡£ç”Ÿæˆæµç¨‹)
- [4. CI/CDé›†æˆ](#4-cicdé›†æˆ)
- [5. æ–‡æ¡£æ›´æ–°æ£€æŸ¥](#5-æ–‡æ¡£æ›´æ–°æ£€æŸ¥)
- [6. ç‰ˆæœ¬æ§åˆ¶](#6-ç‰ˆæœ¬æ§åˆ¶)
- [7. å®æ–½è®¡åˆ’](#7-å®æ–½è®¡åˆ’)

---

## 1. æ¦‚è¿°

### 1.1 ç›®æ ‡

å»ºç«‹è‡ªåŠ¨åŒ–æ–‡æ¡£ç”Ÿæˆå’Œç»´æŠ¤æœºåˆ¶ï¼Œç¡®ä¿ï¼š
- æ–‡æ¡£ä¸ä»£ç åŒæ­¥æ›´æ–°
- æ–‡æ¡£ç‰ˆæœ¬ä¿¡æ¯å‡†ç¡®
- æ–‡æ¡£é“¾æ¥æœ‰æ•ˆæ€§
- æ–‡æ¡£æ ¼å¼ä¸€è‡´æ€§

### 1.2 åŸåˆ™

- **è‡ªåŠ¨åŒ–ä¼˜å…ˆ**ï¼šå°½å¯èƒ½è‡ªåŠ¨åŒ–æ–‡æ¡£ç”Ÿæˆå’Œç»´æŠ¤
- **ç‰ˆæœ¬åŒæ­¥**ï¼šæ–‡æ¡£ç‰ˆæœ¬ä¸ä»£ç ç‰ˆæœ¬åŒæ­¥
- **è´¨é‡ä¿è¯**ï¼šè‡ªåŠ¨æ£€æŸ¥æ–‡æ¡£è´¨é‡å’Œæ ¼å¼
- **æŒç»­æ”¹è¿›**ï¼šæ ¹æ®åé¦ˆæŒç»­ä¼˜åŒ–æµç¨‹

---

## 2. è‡ªåŠ¨åŒ–å·¥å…·é€‰æ‹©

### 2.1 å·¥å…·å¯¹æ¯”

| å·¥å…· | ä¼˜ç‚¹ | ç¼ºç‚¹ | é€‚ç”¨åœºæ™¯ |
|------|------|------|---------|
| **MkDocs** | ç®€å•æ˜“ç”¨ï¼ŒMarkdownæ”¯æŒå¥½ | åŠŸèƒ½ç›¸å¯¹ç®€å• | ä¸­å°å‹é¡¹ç›® |
| **Sphinx** | åŠŸèƒ½å¼ºå¤§ï¼Œæ”¯æŒå¤šæ ¼å¼ | é…ç½®å¤æ‚ | å¤§å‹é¡¹ç›® |
| **Doxygen** | ä»£ç æ–‡æ¡£ç”Ÿæˆå¼º | ä¸»è¦é¢å‘ä»£ç  | ä»£ç æ–‡æ¡£ |
| **GitBook** | ç•Œé¢ç¾è§‚ï¼Œåä½œå¥½ | å•†ä¸šç‰ˆæœ¬æ”¶è´¹ | åœ¨çº¿æ–‡æ¡£ |

### 2.2 æ¨èæ–¹æ¡ˆ

**é€‰æ‹©MkDocs**ï¼ŒåŸå› ï¼š
1. é¡¹ç›®ä½¿ç”¨Markdownæ ¼å¼ï¼ŒMkDocsåŸç”Ÿæ”¯æŒ
2. é…ç½®ç®€å•ï¼Œæ˜“äºç»´æŠ¤
3. æ”¯æŒä¸»é¢˜å®šåˆ¶
4. å¯ä»¥é›†æˆåˆ°CI/CDæµç¨‹

---

## 3. æ–‡æ¡£ç”Ÿæˆæµç¨‹

### 3.1 ç›®å½•ç»“æ„

```text
docs/
â”œâ”€â”€ mkdocs.yml              # MkDocsé…ç½®æ–‡ä»¶
â”œâ”€â”€ .github/
â”‚   â””â”€â”€ workflows/
â”‚       â””â”€â”€ docs.yml        # GitHub Actionså·¥ä½œæµ
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ generate-docs.sh   # æ–‡æ¡£ç”Ÿæˆè„šæœ¬
â”‚   â””â”€â”€ check-links.sh     # é“¾æ¥æ£€æŸ¥è„šæœ¬
â””â”€â”€ docs/                   # æ–‡æ¡£æºæ–‡ä»¶
```

### 3.2 MkDocsé…ç½®

**mkdocs.yml**ï¼š

```yaml
site_name: BufferCache Documentation
site_description: BufferCacheé¡¹ç›®å®Œæ•´æŠ€æœ¯æ–‡æ¡£
site_author: BufferCache Team

theme:
  name: material
  palette:
    - scheme: default
      primary: blue
      accent: blue
      toggle:
        icon: material/brightness-7
        name: Switch to dark mode
    - scheme: slate
      primary: blue
      accent: blue
      toggle:
        icon: material/brightness-4
        name: Switch to light mode

nav:
  - Home: index.md
  - é¡¹ç›®æ€»è§ˆ: 00-é¡¹ç›®æ€»è§ˆ/README.md
  - ç†è®ºåŸºç¡€: 01-ç†è®ºåŸºç¡€/README.md
  - ç³»ç»Ÿå®ç°: 02-ç³»ç»Ÿå®ç°/README.md
  - Redisç»„ä»¶: 03-Redisç»„ä»¶/README.md
  - æ¶æ„è®¾è®¡: 04-æ¶æ„è®¾è®¡/README.md
  - å…¨æ ˆåˆ†æ: 05-å…¨æ ˆåˆ†æ/README.md
  - è¿ç»´ä¸éƒ¨ç½²: 07-è¿ç»´ä¸éƒ¨ç½²/README.md
  - åˆ†å¸ƒå¼æ¶æ„: 08-åˆ†å¸ƒå¼æ¶æ„/README.md

plugins:
  - search
  - minify:
      minify_html: true

markdown_extensions:
  - pymdownx.highlight
  - pymdownx.superfences
  - pymdownx.tabbed
  - tables
  - toc:
      permalink: true
```

### 3.3 æ–‡æ¡£ç”Ÿæˆè„šæœ¬

**scripts/generate-docs.sh**ï¼š

```bash
#!/bin/bash

# æ–‡æ¡£ç”Ÿæˆè„šæœ¬

set -e

echo "å¼€å§‹ç”Ÿæˆæ–‡æ¡£..."

# æ£€æŸ¥MkDocsæ˜¯å¦å®‰è£…
if ! command -v mkdocs &> /dev/null; then
    echo "MkDocsæœªå®‰è£…ï¼Œæ­£åœ¨å®‰è£…..."
    pip install mkdocs-material
fi

# ç”Ÿæˆæ–‡æ¡£
mkdocs build --clean

# æ£€æŸ¥ç”Ÿæˆç»“æœ
if [ -d "site" ]; then
    echo "æ–‡æ¡£ç”ŸæˆæˆåŠŸï¼"
    exit 0
else
    echo "æ–‡æ¡£ç”Ÿæˆå¤±è´¥ï¼"
    exit 1
fi
```

---

## 4. CI/CDé›†æˆ

### 4.1 GitHub Actionså·¥ä½œæµ

**.github/workflows/docs.yml**ï¼š

```yaml
name: Documentation

on:
  push:
    branches:
      - main
    paths:
      - 'docs/**'
      - 'mkdocs.yml'
  pull_request:
    branches:
      - main
    paths:
      - 'docs/**'
      - 'mkdocs.yml'

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3

      - name: Set up Python
        uses: actions/setup-python@v4
        with:
          python-version: '3.x'

      - name: Install dependencies
        run: |
          pip install mkdocs-material
          pip install mkdocs-minify-plugin

      - name: Build documentation
        run: mkdocs build --strict

      - name: Check links
        run: |
          pip install linkchecker
          linkchecker site/

      - name: Deploy to GitHub Pages
        if: github.ref == 'refs/heads/main'
        uses: peaceiris/actions-gh-pages@v3
        with:
          github_token: ${{ secrets.GITHUB_TOKEN }}
          publish_dir: ./site
```

### 4.2 è‡ªåŠ¨åŒ–æ£€æŸ¥

**æ£€æŸ¥é¡¹**ï¼š
1. **æ–‡æ¡£æ ¼å¼æ£€æŸ¥**ï¼šMarkdownæ ¼å¼éªŒè¯
2. **é“¾æ¥æœ‰æ•ˆæ€§æ£€æŸ¥**ï¼šæ£€æŸ¥æ‰€æœ‰é“¾æ¥æ˜¯å¦æœ‰æ•ˆ
3. **ç‰ˆæœ¬ä¿¡æ¯æ£€æŸ¥**ï¼šæ£€æŸ¥ç‰ˆæœ¬ä¿¡æ¯æ˜¯å¦å®Œæ•´
4. **ä»£ç ç¤ºä¾‹æ£€æŸ¥**ï¼šæ£€æŸ¥ä»£ç ç¤ºä¾‹æ ¼å¼

---

## 5. æ–‡æ¡£æ›´æ–°æ£€æŸ¥

### 5.1 æ›´æ–°æ£€æŸ¥è„šæœ¬

**scripts/check-docs.sh**ï¼š

```bash
#!/bin/bash

# æ–‡æ¡£æ›´æ–°æ£€æŸ¥è„šæœ¬

set -e

echo "å¼€å§‹æ£€æŸ¥æ–‡æ¡£æ›´æ–°..."

# æ£€æŸ¥ç‰ˆæœ¬ä¿¡æ¯
echo "æ£€æŸ¥ç‰ˆæœ¬ä¿¡æ¯..."
grep -r "ç‰ˆæœ¬ä¿¡æ¯" docs/ || echo "è­¦å‘Šï¼šéƒ¨åˆ†æ–‡æ¡£ç¼ºå°‘ç‰ˆæœ¬ä¿¡æ¯"

# æ£€æŸ¥é“¾æ¥æœ‰æ•ˆæ€§
echo "æ£€æŸ¥é“¾æ¥æœ‰æ•ˆæ€§..."
find docs -name "*.md" -exec grep -l "http" {} \; | while read file; do
    echo "æ£€æŸ¥æ–‡ä»¶: $file"
    # è¿™é‡Œå¯ä»¥æ·»åŠ é“¾æ¥æ£€æŸ¥é€»è¾‘
done

# æ£€æŸ¥æ–‡æ¡£æ ¼å¼
echo "æ£€æŸ¥æ–‡æ¡£æ ¼å¼..."
find docs -name "*.md" -exec markdownlint {} \;

echo "æ–‡æ¡£æ£€æŸ¥å®Œæˆï¼"
```

### 5.2 å®šæœŸæ£€æŸ¥

**æ£€æŸ¥é¢‘ç‡**ï¼š
- **æ¯æ—¥**ï¼šè‡ªåŠ¨æ£€æŸ¥æ–‡æ¡£é“¾æ¥æœ‰æ•ˆæ€§
- **æ¯å‘¨**ï¼šæ£€æŸ¥æ–‡æ¡£ç‰ˆæœ¬ä¿¡æ¯
- **æ¯æœˆ**ï¼šå…¨é¢æ–‡æ¡£è´¨é‡æ£€æŸ¥

---

## 6. ç‰ˆæœ¬æ§åˆ¶

### 6.1 Gitç‰ˆæœ¬æ§åˆ¶

**ç‰ˆæœ¬æ ‡ç­¾**ï¼š
- `docs-v1.0`ï¼šåˆå§‹ç‰ˆæœ¬
- `docs-v1.1`ï¼šæ·»åŠ ç‰ˆæœ¬ä¿¡æ¯
- `docs-v1.2`ï¼šæ·»åŠ è‡ªåŠ¨åŒ–ç»´æŠ¤æœºåˆ¶

### 6.2 æ–‡æ¡£å˜æ›´è®°å½•

**CHANGELOG.md**ï¼š

```markdown
# æ–‡æ¡£å˜æ›´æ—¥å¿—

## [1.2] - 2025-01

### æ–°å¢
- æ·»åŠ æ–‡æ¡£è‡ªåŠ¨åŒ–ç»´æŠ¤æœºåˆ¶
- æ·»åŠ ç‰ˆæœ¬å…¼å®¹æ€§è¯´æ˜

### æ›´æ–°
- æ›´æ–°Redisæ–‡æ¡£ç‰ˆæœ¬ä¿¡æ¯è‡³7.2
- æ›´æ–°æ–‡æ¡£å…ƒæ•°æ®

### ä¿®å¤
- ä¿®å¤æ–‡æ¡£é“¾æ¥é”™è¯¯
- ä¿®å¤æ–‡æ¡£æ ¼å¼é—®é¢˜
```

---

## 7. å®æ–½è®¡åˆ’

### 7.1 ç¬¬ä¸€é˜¶æ®µï¼ˆ1å‘¨ï¼‰

- [x] é€‰æ‹©è‡ªåŠ¨åŒ–å·¥å…·
- [x] é…ç½®MkDocs
- [ ] åˆ›å»ºæ–‡æ¡£ç”Ÿæˆè„šæœ¬
- [ ] æµ‹è¯•æ–‡æ¡£ç”Ÿæˆæµç¨‹

### 7.2 ç¬¬äºŒé˜¶æ®µï¼ˆ1å‘¨ï¼‰

- [ ] é›†æˆCI/CDæµç¨‹
- [ ] é…ç½®GitHub Actions
- [ ] æµ‹è¯•è‡ªåŠ¨åŒ–éƒ¨ç½²
- [ ] é…ç½®æ–‡æ¡£æ£€æŸ¥è„šæœ¬

### 7.3 ç¬¬ä¸‰é˜¶æ®µï¼ˆ1å‘¨ï¼‰

- [ ] å»ºç«‹ç‰ˆæœ¬æ§åˆ¶æµç¨‹
- [ ] åˆ›å»ºå˜æ›´è®°å½•æœºåˆ¶
- [ ] åŸ¹è®­å›¢é˜Ÿæˆå‘˜
- [ ] æ­£å¼ä¸Šçº¿

---

## 8. ä½¿ç”¨æŒ‡å—

### 8.1 æœ¬åœ°ç”Ÿæˆæ–‡æ¡£

```bash
# å®‰è£…MkDocs
pip install mkdocs-material

# ç”Ÿæˆæ–‡æ¡£
mkdocs build

# é¢„è§ˆæ–‡æ¡£
mkdocs serve
```

### 8.2 æäº¤æ–‡æ¡£æ›´æ–°

```bash
# 1. æ›´æ–°æ–‡æ¡£
git add docs/
git commit -m "docs: æ›´æ–°Redisæ–‡æ¡£ç‰ˆæœ¬ä¿¡æ¯"

# 2. æ¨é€æ›´æ”¹
git push origin main

# 3. CI/CDè‡ªåŠ¨æ„å»ºå’Œéƒ¨ç½²
```

### 8.3 æ£€æŸ¥æ–‡æ¡£è´¨é‡

```bash
# è¿è¡Œæ£€æŸ¥è„šæœ¬
./scripts/check-docs.sh

# æ£€æŸ¥é“¾æ¥
linkchecker site/
```

---

## 9. æœ€ä½³å®è·µ

### 9.1 æ–‡æ¡£ç¼–å†™

1. **éµå¾ªMarkdownè§„èŒƒ**ï¼šä½¿ç”¨æ ‡å‡†Markdownè¯­æ³•
2. **æ·»åŠ ç‰ˆæœ¬ä¿¡æ¯**ï¼šæ¯ä¸ªæ–‡æ¡£æ·»åŠ ç‰ˆæœ¬ä¿¡æ¯
3. **æ£€æŸ¥é“¾æ¥**ï¼šç¡®ä¿æ‰€æœ‰é“¾æ¥æœ‰æ•ˆ
4. **æµ‹è¯•ä»£ç ç¤ºä¾‹**ï¼šç¡®ä¿ä»£ç ç¤ºä¾‹å¯è¿è¡Œ

### 9.2 æ–‡æ¡£ç»´æŠ¤

1. **åŠæ—¶æ›´æ–°**ï¼šä»£ç å˜æ›´æ—¶åŒæ­¥æ›´æ–°æ–‡æ¡£
2. **ç‰ˆæœ¬åŒæ­¥**ï¼šæ–‡æ¡£ç‰ˆæœ¬ä¸ä»£ç ç‰ˆæœ¬åŒæ­¥
3. **å®šæœŸæ£€æŸ¥**ï¼šå®šæœŸæ£€æŸ¥æ–‡æ¡£è´¨é‡å’Œé“¾æ¥
4. **æŒç»­æ”¹è¿›**ï¼šæ ¹æ®åé¦ˆæŒç»­ä¼˜åŒ–æ–‡æ¡£

---

## 10. å‚è€ƒèµ„æº

### 10.1 å®˜æ–¹æ–‡æ¡£

- [MkDocså®˜æ–¹æ–‡æ¡£](https://www.mkdocs.org/)
- [Material for MkDocs](https://squidfunk.github.io/mkdocs-material/)
- [GitHub Actionsæ–‡æ¡£](https://docs.github.com/en/actions)

### 10.2 å·¥å…·èµ„æº

- [Markdownlint](https://github.com/DavidAnson/markdownlint)
- [LinkChecker](https://linkchecker.github.io/linkchecker/)
- [Prettier](https://prettier.io/)

---

**æ–‡æ¡£ç‰ˆæœ¬**ï¼šv1.0
**åˆ›å»ºæ—¥æœŸ**ï¼š2025-01
**æœ€åæ›´æ–°**ï¼š2025-01
**çŠ¶æ€**ï¼šâœ… å®Œæˆ
