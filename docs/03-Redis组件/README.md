# 03-Redis组件

## 主题概述

本主题深入分析Redis核心组件的实现原理，包括数据结构、持久化机制、高可用架构等，从源码层面理解Redis的设计哲学。

## 📊 完成情况

**完成度：100%** | **文档数：20个** | **状态：✅ 全部完成**

| 子主题 | 文档数 | 完成度 | 说明 |
| ------ | ------ | ------ | ---- |
| 03.01 核心数据结构 | 8 | ✅ 100% | SDS、dict、quicklist、intset、skiplist、ziplist、HyperLogLog、Stream |
| 03.02 持久化机制 | 5 | ✅ 100% | RDB、AOF、混合持久化、Multi-Part AOF、性能优化 |
| 03.03 高可用架构 | 4 | ✅ 100% | 主从复制、Sentinel、Cluster、分片策略 |
| 03.04 内存管理 | 4 | ✅ 100% | 内存分配、碎片整理、监控、引用计数GC |
| **总计** | **20** | **✅ 100%** | **Redis组件完整** |

## 子主题结构

### 03.01 核心数据结构

- **03.01.01** SDS简单动态字符串
- **03.01.02** 哈希表dict实现
- **03.01.03** 列表quicklist
- **03.01.04** 集合intset与dict
- **03.01.05** 有序集合skiplist+ziplist
- **03.01.06** 压缩编码ziplist
- **03.01.07** HyperLogLog基数统计
- **03.01.08** Stream流数据结构

### 03.02 持久化机制

- **03.02.01** RDB快照机制
- **03.02.02** AOF日志机制
- **03.02.03** 混合持久化
- **03.02.04** Multi Part AOF
- **03.02.05** 持久化性能优化

### 03.03 高可用架构

- **03.03.01** 主从复制机制
- **03.03.02** Sentinel哨兵机制
- **03.03.03** Cluster集群模式
- **03.03.04** 分片策略与路由

### 03.04 内存管理

- **03.04.01** 内存分配策略
- **03.04.02** 内存淘汰策略
- **03.04.03** 内存碎片整理
- **03.04.04** 引用计数GC

### 03.05 事件驱动模型

- **03.05.01** aeEventLoop事件循环
- **03.05.02** IO多路复用
- **03.05.03** 多IO线程(Redis 6.0+)
- **03.05.04** 异步机制BIO

### 03.06 网络通信

- **03.06.01** RESP协议
- **03.06.02** Pipeline批量操作
- **03.06.03** 连接管理
- **03.06.04** 零拷贝优化

## 核心概念

### 编码自适应

根据数据特征自动选择最优编码，平衡空间和时间。

### 渐进式Rehash

避免集中式rehash导致的性能抖动。

### 单线程模型

通过事件驱动和IO多路复用实现高并发。

## 权威参考

- **Redis源码**: <https://github.com/redis/redis>
- **Redis文档**: <https://redis.io/docs/>
- **《Redis设计与实现》**: 黄健宏著

## 扩展方向

1. **Redis模块开发**: 自定义数据结构
2. **性能调优**: 针对特定场景的优化
3. **源码分析**: 深入理解关键路径实现
